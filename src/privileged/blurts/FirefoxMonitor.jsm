const { utils: Cu, classes: Cc, interfaces: Ci } = Components;

Cu.import("resource://gre/modules/XPCOMUtils.jsm");
XPCOMUtils.defineLazyModuleGetter(this, "Services",
                                  "resource://gre/modules/Services.jsm");
Cu.importGlobalProperties(["fetch"]);

const imageDataURIs = {
  iconLaptopRisk: "data:image/png;base64,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",
  iconLaptop: "data:image/png;base64,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",
};

let gExtension;

function sha1(str) {
  let converter =
    Components.classes["@mozilla.org/intl/scriptableunicodeconverter"].
      createInstance(Components.interfaces.nsIScriptableUnicodeConverter);
  converter.charset = "UTF-8";
  let result = {};
  let data = converter.convertToByteArray(str, result);
  let ch = Components.classes["@mozilla.org/security/hash;1"]
                     .createInstance(Components.interfaces.nsICryptoHash);
  ch.init(ch.SHA1);
  ch.update(data, data.length);
  let hash = ch.finish(false);
  function toHexString(charCode) {
    return ("0" + charCode.toString(16)).slice(-2);
  }
  return Array.from(hash, (c, i) => toHexString(hash.charCodeAt(i))).join("");
}

function isEmailValid(val) {
  // https://stackoverflow.com/a/46181
  const re = /^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;
  return re.test(String(val).toLowerCase());
}

function showInvalidMessage(textbox) {
  textbox.style.borderStyle = "solid";
  textbox.style.borderColor = "#d70022cc";
  textbox.style.borderWidth = "1px";
  textbox.value = "";
  textbox.placeholder = "Please enter a valid email.";
  textbox.style.boxShadow = "1px 0px 4px #d7002233";
  textbox.style.transition = "all 0.2s ease";
}

function clearInvalidMessage(textbox) {
  textbox.style.borderStyle = "solid";
  textbox.style.borderColor = "rgba(12, 12, 13, 0.30)";
  textbox.style.borderWidth = "1px";
  textbox.placeholder = "Please enter a valid email.";
  textbox.style.boxShadow = "1px 0px 4px rgba(12, 12, 13, 0.05)";
  textbox.style.transition = "all 0.2s ease";
}


const handleInputs = function(event, variantNumber, inputElement, doc) {
  const emailString = inputElement.value;
  clearInvalidMessage(inputElement);
  if (event.code !== "Enter") {
    return;
  }
  if (inputElement.value === "" || !isEmailValid(inputElement.value)) {
    showInvalidMessage(inputElement);
  } else {
    let stringStream = Cc["@mozilla.org/io/string-input-stream;1"].
    createInstance(Ci.nsIStringInputStream);
    let hashedEmail = sha1(emailString);
    stringStream.data = `emailHash=${hashedEmail}`;
    let postData = Cc["@mozilla.org/network/mime-input-stream;1"].
      createInstance(Ci.nsIMIMEInputStream);
    postData.addHeader("Content-Type", "application/x-www-form-urlencoded");
    postData.setData(stringStream);
    doc.defaultView.openUILinkIn("https://monitor.firefox.com/scan", "tab", { postData });
    FirefoxMonitor.notifyEventListeners(`variant_${variantNumber}_submit`);
  }
};


this.FirefoxMonitor = {
  init(aExtension, aVariation) {
    gExtension = aExtension;
    UI_VARIANT = parseInt(aVariation);

    fetch(gExtension.getURL("breaches.json")).then(function(response) {
      return response.json();
    }).then(function(sites) {
      for (let site of sites) {
        domainMap.set(site.Domain, { Domain: site.Domain, Title: site.Title, PwnCount: site.PwnCount, BreachDate: site.BreachDate, DataClasses: site.DataClasses, logoSrc: site.LogoFilename });
      }
      startObserving();
      aExtension.callOnClose({
        close: () => {
          stopObserving();
        },
      });
    });
  },

  eventListeners: new Set(),

  addEventListener(aListener) {
    this.eventListeners.add(aListener);
  },

  removeEventListener(aListener) {
    this.eventListeners.delete(aListener);
  },

  notifyEventListeners(id) {
    for (let cb of this.eventListeners) {
      cb(id);
    }
  },
};


let observerAdded = false;

function startObserving() {
  let tpl = {
    onLocationChange(aBrowser, aWebProgress, aRequest, aLocation) {
      if (!aLocation.host) return;
      warnIfNeeded(aBrowser, aLocation.host);
    },
  };

  EveryWindow.registerCallback(
    "breach-alerts",
    (win) => {
      win.gBrowser.addTabsProgressListener(tpl);
    },
    (win) => {
      win.gBrowser.removeTabsProgressListener(tpl);
    }
  );
  observerAdded = true;
}

function stopObserving() {
  if (observerAdded) {
    EveryWindow.unregisterCallback("breach-alerts");
  }
}

let domainMap = new Map();
let warnedHostSet = new Set();
let blurtsDisabled = false;
let UI_VARIANT;

function warnIfNeeded(browser, host) {
  if (host.startsWith("www.")) {
    host = host.substring(4);
  }

  if (blurtsDisabled || !domainMap.has(host) || warnedHostSet.has(host)) {
    return;
  }

  let doc = browser.ownerDocument;

  warnedHostSet.add(host);

  const ui = UIFactory[UI_VARIANT](browser, doc, host, domainMap.get(host)); // get from pref

  const notificationId = `breach_alerts_variant_${UI_VARIANT + 1}`;
  const telemetryId = `variant_${UI_VARIANT + 1}`;
  showPanel(browser, ui, notificationId, telemetryId);
}

function showSurvey(browser, aWithEmail) {
  let doc = browser.ownerDocument;

  let panel = doc.defaultView.PopupNotifications.panel;
  const ui = surveyFactory(aWithEmail, doc, browser);
  const notificationId = `breach_alerts_survey_variant_${UI_VARIANT + 1}`;
  const telemetryId = `survey_variant_${UI_VARIANT + 1}`;

  if (panel.hidden) {
    showPanel(browser, ui, notificationId, telemetryId);
    return;
  }

  panel.addEventListener("popuphidden", () => {
    showPanel(browser, ui, notificationId, telemetryId);
  }, { once: true });
}

function showThankYou(browser) {
  let doc = browser.ownerDocument;

  let panel = doc.defaultView.PopupNotifications.panel;
  const ui = surveyGratitudeFactory(doc);
  const notificationId = `breach_alerts_survey_gratitude`;
  const telemetryId = `survey_gratitude_variant_${UI_VARIANT + 1}`;

  if (panel.hidden) {
    showPanel(browser, ui, notificationId, telemetryId);
    return;
  }

  panel.addEventListener("popuphidden", () => {
    showPanel(browser, ui, notificationId, telemetryId);
  }, { once: true });
}

function showPanel(browser, ui, notificationId, telemetryId) {
  let doc = browser.ownerDocument;

  let populatePanel = (event) => {
    if (event !== "shown") {
      return;
    }
    let n = doc.getElementById(notificationId + "-notification");
    let body = doc.getAnonymousElementByAttribute(n, "class", "popup-notification-body");
    let box = body.querySelector(".blurtsbox");
    if (box) {
      box.remove();
    }
    box = ui.box;
    box.setAttribute("class", "blurtsbox");
    box.setAttribute("style", "font-size: 110%");
    body.appendChild(box);
    let icon = doc.getAnonymousElementByAttribute(n, "class", "popup-notification-icon");
    if (icon) {
      icon.remove();
    }
  };

  doc.defaultView.PopupNotifications.show(
    browser, notificationId, "",
    null, ui.primaryAction, ui.secondaryActions, {persistent: true, hideClose: true, eventCallback: populatePanel});
  FirefoxMonitor.notifyEventListeners(`${telemetryId}_shown`);
}

function makeSpanWithLinks(aStrParts, doc) {
  let spanElt = doc.createElementNS(HTML_NS, "span");
  for (let str of aStrParts) {
    if (!str.link) {
      spanElt.appendChild(doc.createTextNode(str.str));
      continue;
    }
    let anchor = doc.createElementNS(HTML_NS, "a");
    anchor.setAttribute("style", "color: #0060DF");
    anchor.setAttribute("href", "javascript:void(0)");
    anchor.addEventListener("click", (event) => {
      doc.defaultView.openUILinkIn(str.link, "tab", {});
    });
    anchor.appendChild(doc.createTextNode(str.str));
    spanElt.appendChild(anchor);
  }
  return spanElt;
}

const XUL_NS = "http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul";
const HTML_NS = "http://www.w3.org/1999/xhtml";
let UIFactory = [

  // variant #1
  function(browser, doc, host, site) {
    return {
      get box() {
        let box = doc.createElementNS(XUL_NS, "vbox");
        let elt = doc.createElementNS(XUL_NS, "hbox");
        elt.setAttribute("style", "margin-bottom: 1rem;");
        elt.setAttribute("pack", "center");
        let imgElt = doc.createElementNS(XUL_NS, "image");
        imgElt.setAttribute("src", imageDataURIs.iconLaptopRisk);
        imgElt.setAttribute("style", "width: 148px;");
        elt.appendChild(imgElt);
        box.appendChild(elt);
        elt = doc.createElementNS(XUL_NS, "description");
        elt.setAttribute("anonid", "maindesc");
        elt.appendChild(doc.createTextNode("Have an account on this website?\nIt may be at risk."));
        elt.setAttribute("style", "font-size: 150%; text-align: center; white-space: pre; margin-bottom: 1rem;");
        box.appendChild(elt);
        elt = doc.createElementNS(XUL_NS, "description");
        let strings = [
          {str: site.Title + " was reported to "},
          {str: "Firefox Monitor"},
          {str: ", a service that collects information about data breaches and other ways hackers can steal your information.\n\nFind out if your account is at risk and learn how to protect yourself at the Firefox Monitor website."},
        ];
        elt.appendChild(makeSpanWithLinks(strings, doc));
        elt.setAttribute("style", "text-align: center; white-space: pre-wrap;");
        box.appendChild(elt);
        return box;
      },
      primaryAction: {
        label: "Go to Firefox Monitor",
        accessKey: "f",
        callback: () => {
          FirefoxMonitor.notifyEventListeners(`variant_1_submit`);
          doc.defaultView.openUILinkIn(`https://monitor.firefox.com/?breach=${host}`, "tab", {});
        },
      },
      secondaryActions: [
        {
          label: "Dismiss",
          accessKey: "d",
          callback: () => {
            FirefoxMonitor.notifyEventListeners(`variant_1_dismiss`);
            showSurvey(browser, false);
          },
        }, {
          label: "Never show breach alerts",
          accessKey: "n",
          callback: () => {
            FirefoxMonitor.notifyEventListeners(`variant_1_dismiss_permanent`);
            showSurvey(browser, false);
            blurtsDisabled = true;
          },
        },
      ],
    };
  },

  // variant #2
  function(browser, doc, host, site) {
    let retval = {
      _textbox: null,
      get box() {
        let box = doc.createElementNS(XUL_NS, "vbox");

        let elt = doc.createElementNS(XUL_NS, "hbox");
        elt.setAttribute("style", "margin-bottom: 1rem;");
        elt.setAttribute("pack", "center");
        let imgElt = doc.createElementNS(XUL_NS, "image");
        imgElt.setAttribute("src", imageDataURIs.iconLaptopRisk);
        imgElt.setAttribute("style", "width: 148px;");
        elt.appendChild(imgElt);
        box.appendChild(elt);
        elt = doc.createElementNS(XUL_NS, "description");
        elt.setAttribute("anonid", "maindesc");
        elt.appendChild(doc.createTextNode("Have an account on this website?\nIt may be at risk."));
        elt.setAttribute("style", "font-size: 150%; text-align: center; white-space: pre; margin-bottom: 1rem;");
        box.appendChild(elt);
        elt = doc.createElementNS(XUL_NS, "description");
        let strings = [
          {str: site.Title + " was reported to "},
          {str: "Firefox Monitor", link: `https://monitor.firefox.com/?breach=${host}`},
          {str: ", a service that collects information about data breaches and other ways hackers can steal your information.\n\nEnter your email to find out if your account was included in a data breach. \n(Note: Your email will not be stored.)"},
        ];
        elt.appendChild(makeSpanWithLinks(strings, doc));
        elt.setAttribute("style", "text-align: center; white-space: pre-wrap;");
        box.appendChild(elt);
        elt = doc.createElementNS(XUL_NS, "textbox");
        elt.setAttribute("style", "-moz-appearance: none; height: 2.75rem; line-height: 2.5rem; white-space:nowrap; overflow:hidden; padding: 0.5rem; box-sizing: border-box; background: #FFFFFF; border: 1px solid rgba(12,12,13,0.30); border-radius: 2px; -moz-user-focus: normal; -moz-user-select: all !important;");
        elt.setAttribute("placeholder", "Enter Email");
        elt.setAttribute("id", "emailToHash");
        elt.addEventListener("keydown", function listener(event) {
          handleInputs(event, "2", elt, doc);
        });
        this._textbox = elt;
        box.appendChild(elt);
        return box;
      },
    };
    retval.primaryAction = {
      label: "Search Firefox Monitor",
      accessKey: "f",
      callback: function() {
        FirefoxMonitor.notifyEventListeners(`variant_2_submit`);
        let stringStream = Cc["@mozilla.org/io/string-input-stream;1"].
          createInstance(Ci.nsIStringInputStream);
        stringStream.data = `emailHash=${sha1(this._textbox.value)}`;

        let postData = Cc["@mozilla.org/network/mime-input-stream;1"].
          createInstance(Ci.nsIMIMEInputStream);
        postData.addHeader("Content-Type", "application/x-www-form-urlencoded");
        postData.setData(stringStream);
        doc.defaultView.openUILinkIn("https://monitor.firefox.com/scan", "tab", { postData });
      }.bind(retval),
    };
    retval.secondaryActions = [
      {
        label: "Dismiss",
        accessKey: "d",
        callback: () => {
          FirefoxMonitor.notifyEventListeners(`variant_2_dismiss`);
          showSurvey(browser, true);
        },
      }, {
        label: "Never show breach alerts",
        accessKey: "n",
        callback: () => {
          FirefoxMonitor.notifyEventListeners(`variant_2_dismiss_permanent`);
          blurtsDisabled = true;
          showSurvey(browser, true);
        },
      },
    ];
    return retval;
  },

  // variant #3
  function(browser, doc, host, site) {
    let retval = {
      _textbox: null,
      _checkbox: null,
      get box() {
        let box = doc.createElementNS(XUL_NS, "vbox");

        let elt = doc.createElementNS(XUL_NS, "hbox");
        elt.setAttribute("style", "margin-bottom: 1rem;");
        elt.setAttribute("pack", "center");
        let imgElt = doc.createElementNS(XUL_NS, "image");
        imgElt.setAttribute("src", imageDataURIs.iconLaptopRisk);
        imgElt.setAttribute("style", "width: 148px;");
        elt.appendChild(imgElt);
        box.appendChild(elt);
        elt = doc.createElementNS(XUL_NS, "description");
        elt.setAttribute("anonid", "maindesc");
        elt.appendChild(doc.createTextNode("Have an account on this website?\nIt may be at risk."));
        elt.setAttribute("style", "font-size: 150%; text-align: center; white-space: pre;");
        box.appendChild(elt);
        elt = doc.createElementNS(XUL_NS, "description");
        let strings = [
          {str: site.Title + " was reported to "},
          {str: "Firefox Monitor", link: `https://monitor.firefox.com/?breach=${host}`},
          {str: ", a service that collects information about data breaches and other ways hackers can steal your information.\n\nEnter your email to find out if your account was included in a data breach."},
        ];
        elt.appendChild(makeSpanWithLinks(strings, doc));
        elt.setAttribute("style", "text-align: center; white-space: pre-wrap;");
        box.appendChild(elt);
        let emailInput = doc.createElementNS(XUL_NS, "textbox");
        emailInput.setAttribute("style", "-moz-appearance: none; height: 2.75rem; line-height: 2.5rem; white-space:nowrap; overflow:hidden; padding: 0.5rem; box-sizing: border-box; background: #FFFFFF; border: 1px solid rgba(12,12,13,0.30); border-radius: 2px; -moz-user-focus: normal; -moz-user-select: all !important;");
        emailInput.setAttribute("placeholder", "Enter Email");
        emailInput.setAttribute("id", "emailToHash");
        emailInput.allowEvents = true;
        emailInput.addEventListener("keydown", function listener(event) {
          handleInputs(event, "3", emailInput, doc);
        });
        this._textbox = emailInput;
        box.appendChild(emailInput);
        elt = doc.createElementNS(XUL_NS, "checkbox");
        elt.setAttribute("label", "Sign up for Firefox Monitor alerts");
        elt.setAttribute("checked", "false");
        this._checkbox = elt;
        box.appendChild(elt);
        return box;
      },
    };
    retval.primaryAction = {
      label: "Search Firefox Monitor",
      accessKey: "f",
      callback: function() {
        if (this._checkbox.checked) {
          FirefoxMonitor.notifyEventListeners(`variant_3_submit_checked`);
        } else {
          FirefoxMonitor.notifyEventListeners(`variant_3_submit`);
        }
        let stringStream = Cc["@mozilla.org/io/string-input-stream;1"].
          createInstance(Ci.nsIStringInputStream);
        stringStream.data = `emailHash=${sha1(this._textbox.value)}&signup=${this._checkbox.checked}`;

        let postData = Cc["@mozilla.org/network/mime-input-stream;1"].
          createInstance(Ci.nsIMIMEInputStream);
        postData.addHeader("Content-Type", "application/x-www-form-urlencoded");
        postData.setData(stringStream);
        doc.defaultView.openUILinkIn("https://monitor.firefox.com/scan", "tab", { postData });
      }.bind(retval),
    };
    retval.secondaryActions = [
      {
        label: "Dismiss",
        accessKey: "d",
        callback: () => {
          FirefoxMonitor.notifyEventListeners(`variant_3_dismiss`);
          showSurvey(browser, true);
        },
      }, {
        label: "Never show breach alerts",
        accessKey: "n",
        callback: () => {
          FirefoxMonitor.notifyEventListeners(`variant_3_dismiss_permanent`);
          blurtsDisabled = true;
          showSurvey(browser, true);
        },
      },
    ];
    return retval;
  },

  // variant #4
  function(browser, doc, host, site) {
    let retval = {
      get box() {
        let box = doc.createElementNS(XUL_NS, "vbox");

        let elt = doc.createElementNS(XUL_NS, "hbox");
        elt.setAttribute("style", "margin-bottom: 1rem;");
        elt.setAttribute("pack", "center");
        let imgElt = doc.createElementNS(XUL_NS, "image");
        imgElt.setAttribute("src", imageDataURIs.iconLaptop);
        imgElt.setAttribute("style", "width: 148px;");
        elt.appendChild(imgElt);
        box.appendChild(elt);
        elt = doc.createElementNS(XUL_NS, "description");
        elt.setAttribute("anonid", "maindesc");
        elt.appendChild(doc.createTextNode("Protect your online accounts."));
        elt.setAttribute("style", "font-size: 150%; text-align: center; white-space: pre;");
        box.appendChild(elt);
        elt = doc.createElementNS(XUL_NS, "description");
        elt.appendChild(doc.createTextNode("Firefox Monitor is a new service that collects information about data breaches so you can find out if your online accounts are exposed to hackers.\n\nSearch your accounts, read about recent breaches, and learn how a few simple steps can help protect your online accounts."));
        elt.setAttribute("style", "text-align: center; white-space: pre-wrap;");
        box.appendChild(elt);
        return box;
      },
    };
    retval.primaryAction = {
      label: "Go to Firefox Monitor",
      accessKey: "f",
      callback() {
        FirefoxMonitor.notifyEventListeners(`variant_4_submit`);
        doc.defaultView.openUILinkIn(`https://monitor.firefox.com/`, "tab", {});
      },
    };
    retval.secondaryActions = [
      {
        label: "Dismiss",
        accessKey: "d",
        callback: () => {
          FirefoxMonitor.notifyEventListeners(`variant_4_dismiss`);
          showSurvey(browser, false);
        },
      }, {
        label: "Never show breach alerts",
        accessKey: "n",
        callback: () => {
          FirefoxMonitor.notifyEventListeners(`variant_4_dismiss_permanent`);
          blurtsDisabled = true;
          showSurvey(browser, false);
        },
      },
    ];
    return retval;
  },

  // variant #5
  function(browser, doc, host, site) {
    let retval = {
      _textbox: null,
      get box() {
        let box = doc.createElementNS(XUL_NS, "vbox");
        let elt = doc.createElementNS(XUL_NS, "description");
        elt.setAttribute("anonid", "maindesc");
        elt.appendChild(doc.createTextNode("Have an account? It may be at risk."));
        elt.setAttribute("style", "font-size: 150%; white-space: pre; margin-bottom: 1rem;");
        box.appendChild(elt);
        elt = doc.createElementNS(XUL_NS, "description");
        let strings = [
          {str: "This website was reported to "},
          {str: "Firefox Monitor", link: `https://monitor.firefox.com/?breach=${host}`},
          {str: ", a service that collects information about data breaches and other ways hackers can steal your information."},
        ];
        elt.appendChild(makeSpanWithLinks(strings, doc));
        elt.appendChild(doc.createTextNode("This website was reported to Firefox Monitor, a service that collects information about data breaches and other ways hackers can steal your information."));
        elt.setAttribute("style", "white-space: pre-wrap; margin-bottom: 1rem; padding-bottom: 1rem; border-bottom: 1px solid rgba(0,0,0,0.10);");
        box.appendChild(elt);
        elt = doc.createElementNS(XUL_NS, "hbox");
        elt.setAttribute("style", "margin-bottom: 1rem;");
        let elt2 = doc.createElementNS(XUL_NS, "image");
        elt2.setAttribute("flex", "0");
        elt2.setAttribute("src", gExtension.getURL("PwnedLogos/" + domainMap.get(host).logoSrc));
        elt2.setAttribute("style", "width: 64px; margin-inline-start: 6px; margin-inline-end: 5px;");
        elt.appendChild(elt2);
        elt2 = doc.createElementNS(XUL_NS, "vbox");
        elt2.setAttribute("align", "start");
        let elt3 = doc.createElementNS(XUL_NS, "description");
        elt3.appendChild(doc.createTextNode(site.Title));
        elt3.setAttribute("style", "font-size: 150%; white-space: pre;");
        elt2.appendChild(elt3);
        elt3 = doc.createElementNS(XUL_NS, "description");
        elt3.setAttribute("style", "color: #D10022;");
        elt3.appendChild(doc.createTextNode("Breach Date"));
        elt2.appendChild(elt3);
        elt3 = doc.createElementNS(XUL_NS, "description");
        elt3.appendChild(doc.createTextNode(site.BreachDate));
        elt2.appendChild(elt3);
        elt.appendChild(elt2);
        box.appendChild(elt);
        elt = doc.createElementNS(XUL_NS, "description");
        elt.setAttribute("style", "color: #D10022;");
        elt.appendChild(doc.createTextNode("Compromised Accounts"));
        box.appendChild(elt);
        elt = doc.createElementNS(XUL_NS, "description");
        elt.appendChild(doc.createTextNode(site.PwnCount.toLocaleString()));
        box.appendChild(elt);
        elt = doc.createElementNS(XUL_NS, "description");
        elt.setAttribute("style", "color: #D10022;");
        elt.appendChild(doc.createTextNode("Compromised Data"));
        box.appendChild(elt);
        elt = doc.createElementNS(XUL_NS, "description");
        elt.appendChild(doc.createTextNode(site.DataClasses.join(", ")));
        elt.setAttribute("style", "margin-bottom: 1rem; padding-bottom: 1rem; border-bottom: 1px solid rgba(0,0,0,0.10);");
        box.appendChild(elt);
        elt = doc.createElementNS(XUL_NS, "description");
        strings = [
          {str: "Enter your email to find out if your account was included in a data breach."},
          {str: "\n(Note: Your email will not be stored.)"},
        ];
        elt.appendChild(makeSpanWithLinks(strings, doc));
        box.appendChild(elt);
        elt = doc.createElementNS(XUL_NS, "textbox");
        elt.setAttribute("style", "-moz-appearance: none; height: 2.75rem; line-height: 2.5rem; white-space:nowrap; overflow:hidden; padding: 0.5rem; box-sizing: border-box; background: #FFFFFF; border: 1px solid rgba(12,12,13,0.30); border-radius: 2px; -moz-user-focus: normal; -moz-user-select: all !important;");
        elt.setAttribute("placeholder", "Enter Email");
        elt.setAttribute("id", "emailToHash");
        elt.addEventListener("keydown", function listener(event) {
          handleInputs(event, "5", elt, doc);
        });
        this._textbox = elt;
        box.appendChild(elt);
        return box;
      },
    };
    retval.primaryAction = {
      label: "Search Firefox Monitor",
      accessKey: "f",
      callback: function() {
        FirefoxMonitor.notifyEventListeners(`variant_5_submit`);
        let stringStream = Cc["@mozilla.org/io/string-input-stream;1"].
          createInstance(Ci.nsIStringInputStream);
        stringStream.data = `emailHash=${sha1(this._textbox.value)}`;

        let postData = Cc["@mozilla.org/network/mime-input-stream;1"].
          createInstance(Ci.nsIMIMEInputStream);
        postData.addHeader("Content-Type", "application/x-www-form-urlencoded");
        postData.setData(stringStream);
        doc.defaultView.openUILinkIn("https://monitor.firefox.com/scan", "tab", { postData });
      }.bind(retval),
    };
    retval.secondaryActions = [
      {
        label: "Dismiss",
        accessKey: "d",
        callback: () => {
          FirefoxMonitor.notifyEventListeners(`variant_5_dismiss`);
          showSurvey(browser, true);
        },
      }, {
        label: "Never show breach alerts",
        accessKey: "n",
        callback: () => {
          FirefoxMonitor.notifyEventListeners(`variant_5_dismiss_permanent`);
          blurtsDisabled = true;
          showSurvey(browser, true);
        },
      },
    ];
    return retval;
  },
];

function surveyFactory(aWithEmail, doc, browser) {
  let retval = {
    _checkboxes: [],
    get box() {
      let box = doc.createElementNS(XUL_NS, "vbox");
      let elt = doc.createElementNS(XUL_NS, "description");
      elt.setAttribute("anonid", "maindesc");
      elt.appendChild(doc.createTextNode("Will you give the Firefox team your feedback?"));
      elt.setAttribute("style", "font-size: 150%; white-space: pre-wrap; margin-bottom: 1rem;");
      box.appendChild(elt);
      elt = doc.createElementNS(XUL_NS, "description");
      elt.appendChild(doc.createTextNode("Will you give the Firefox team your feedback? Tell us why you dismissed this notification:"));
      elt.setAttribute("style", "white-space: pre-wrap; margin-bottom: 1rem; padding-bottom: 1rem; border-bottom: 1px solid rgba(0,0,0,0.10);");
      box.appendChild(elt);
      elt = doc.createElementNS(XUL_NS, "checkbox");
      elt.setAttribute("label", "I didn't understand the notification");
      elt.setAttribute("telemetryid", "didnt_understand");
      elt.setAttribute("checked", "false");
      box.appendChild(elt);
      this._checkboxes.push(elt);
      elt = doc.createElementNS(XUL_NS, "checkbox");
      elt.setAttribute("label", "I'm not concerned about this data breach");
      elt.setAttribute("telemetryid", "not_concerned");
      elt.setAttribute("checked", "false");
      box.appendChild(elt);
      this._checkboxes.push(elt);
      elt = doc.createElementNS(XUL_NS, "checkbox");
      elt.setAttribute("label",
        aWithEmail ? "I'm not sure it's safe to enter my email" :
                     "I didn't trust this came from Firefox");
      elt.setAttribute("telemetryid",
        aWithEmail ? "not_safe" : "didnt_trust");
      elt.setAttribute("checked", "false");
      box.appendChild(elt);
      this._checkboxes.push(elt);
      elt = doc.createElementNS(XUL_NS, "checkbox");
      elt.setAttribute("label", "I haven't heard of Firefox Monitor");
      elt.setAttribute("telemetryid", "havent_heard");
      elt.setAttribute("checked", "false");
      box.appendChild(elt);
      this._checkboxes.push(elt);
      elt = doc.createElementNS(XUL_NS, "checkbox");
      elt.setAttribute("label", "I'm too busy right now");
      elt.setAttribute("telemetryid", "too_busy");
      elt.setAttribute("checked", "false");
      box.appendChild(elt);
      this._checkboxes.push(elt);
      elt = doc.createElementNS(XUL_NS, "checkbox");
      elt.setAttribute("label", "Other");
      elt.setAttribute("telemetryid", "other");
      elt.setAttribute("checked", "false");
      box.appendChild(elt);
      this._checkboxes.push(elt);
      return box;
    },
  };
  retval.primaryAction = {
    label: "Submit",
    accessKey: "s",
    callback: () => {
      for (let checkbox of retval._checkboxes) {
        if (checkbox.checked) {
          FirefoxMonitor.notifyEventListeners(`survey_checkbox_${checkbox.getAttribute("telemetryid")}`);
        }
      }
      showThankYou(browser);
    },
  };
  retval.secondaryActions = [{
    label: "Cancel",
    accessKey: "c",
    callback: () => {
      FirefoxMonitor.notifyEventListeners(`survey_dismissed`);
    },
  }];
  return retval;
}

function surveyGratitudeFactory(doc) {
  let retval = {
    get box() {
      let box = doc.createElementNS(XUL_NS, "vbox");
      let elt = doc.createElementNS(XUL_NS, "description");
      elt.setAttribute("anonid", "maindesc");
      elt.appendChild(doc.createTextNode("Thank you for your feedback!"));
      elt.setAttribute("style", "font-size: 150%; white-space: pre-wrap; margin-bottom: 10rem;");
      box.appendChild(elt);
      return box;
    },
  };
  retval.primaryAction = {
    label: "Close",
    accessKey: "c",
    callback: () => {
    },
  };
  retval.secondaryActions = [];
  return retval;
}

let EveryWindow = {
  _callbacks: new Map(),
  _initialized: false,

  registerCallback: function EW_registerCallback(id, init, uninit) {
    if (this._callbacks.has(id)) {
      return;
    }

    this._callForEveryWindow(init);
    this._callbacks.set(id, {id, init, uninit});

    if (!this._initialized) {
      Services.obs.addObserver(this._onOpenWindow.bind(this),
                               "browser-delayed-startup-finished");
      this._initialized = true;
    }
  },

  unregisterCallback: function EW_unregisterCallback(aId, aCallUninit = true) {
    if (!this._callbacks.has(aId)) {
      return;
    }

    if (aCallUninit) {
      this._callForEveryWindow(this._callbacks.get(aId).uninit);
    }

    this._callbacks.delete(aId);
  },

  _callForEveryWindow(aFunction) {
    let windowList = Services.wm.getEnumerator("navigator:browser");
    while (windowList.hasMoreElements()) {
      let win = windowList.getNext();
      win.delayedStartupPromise.then(() => { aFunction(win); });
    }
  },

  _onOpenWindow(aWindow) {
    for (let c of this._callbacks.values()) {
      c.init(aWindow);
    }

    aWindow.addEventListener("unload",
                             this._onWindowClosing.bind(this),
                             { once: true });
  },

  _onWindowClosing(aEvent) {
    let win = aEvent.target;
    for (let c of this._callbacks.values()) {
      c.uninit(win);
    }
  },
};

const EXPORTED_SYMBOLS = ["FirefoxMonitor"];
